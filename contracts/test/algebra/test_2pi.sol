// SPDX-License-Identifier: MIT OR Apache-2.0
//---------------------------------------------------------------------------//
// Copyright (c) 2023 Vasiliy Olekhov <vasiliy.olekhov@nil.foundation>
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//---------------------------------------------------------------------------//
pragma solidity ^0.8.0;

import '../../../contracts/algebra/field3.sol';
import 'hardhat/console.sol';

contract test_2pi {

    uint256 constant neg0 = 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF;

    function test_div256() public pure {
        uint256 x;

        x = field3.div256(0x0000000000000000000000000000000000000000000000000000000000000011);
        require(x == 0x0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f, 'test fails at 1');
        x = field3.div256(0x0000000000000000000000000000000000000000000000000000000000000121);
        require(x == 0x00e2c4a6886a4c2e0ff1d3b597795b3d1f00e2c4a6886a4c2e0ff1d3b597795b, 'test fails at 2');
        x = field3.div256(0x0000000000000000000000000000000000000000000000000000000000001331);
        require(x == 0x000d56dc9e9cd74e00f01b832707237c10e1ef38be807eb92fe2d1fd6508e905, 'test fails at 3');
        x = field3.div256(0x0000000000000000000000000000000000000000000000000000000000014641);
        require(x == 0x0000c8dfcd1848e678869834e42d98acf1ef2c3083ad34a17b4993e1baa62bd3, 'test fails at 4');
        x = field3.div256(0x000000000000000000000000000000000000000000000000000000000015aa51);
        require(x == 0x00000bd0edf25ea4253518031c7b27193b686c02da91b7cd437ccc76b0a05cee, 'test fails at 5');
        x = field3.div256(0x0000000000000000000000000000000000000000000000000000000001704f61);
        require(x == 0x000000b1efe114a03e6c88f11fcb024cc74260b4dfae37fd03f848433790f668, 'test fails at 6');
        x = field3.div256(0x0000000000000000000000000000000000000000000000000000000018754571);
        require(x == 0x0000000a7785b5eb4ef753597a573c5ede8b6f19b2ce034b1e59e6221253d242, 'test fails at 7');
        x = field3.div256(0x000000000000000000000000000000000000000000000000000000019fc99c81);
        require(x == 0x000000009d9e741ce68704e725506cf6858fbb3dbf394b7ce3aaef6b6a7d66b8, 'test fails at 8');
        x = field3.div256(0x0000000000000000000000000000000000000000000000000000001b9c636491);
        require(x == 0x0000000009458e5c0d8f78c24d7d339607db473fde126dda2b82868dd9166f74, 'test fails at 9');
        x = field3.div256(0x000000000000000000000000000000000000000000000000000001d56299ada1);
        require(x == 0x00000000008b9ef65b268ea2048ee4eab52b0430eef206763ecb7153a35bac34, 'test fails at 10');
        x = field3.div256(0x00000000000000000000000000000000000000000000000000001f2b8c3487b1);
        require(x == 0x0000000000083686f64d8feb69ae0d7737d55a997777a606f4a28e3218ab0a21, 'test fails at 11');
        x = field3.div256(0x000000000000000000000000000000000000000000000000000211e44f7d02c1);
        require(x == 0x0000000000007bad96048ffec9fb2df7f439ba09070709c42c82085d4cbec45c, 'test fails at 12');
        x = field3.div256(0x00000000000000000000000000000000000000000000000000233029474d2ed1);
        require(x == 0x0000000000000746723c80f0deb46c1da4f4563cc42d9729a843e25fd7568405, 'test fails at 13');
        x = field3.div256(0x000000000000000000000000000000000000000000000000025632bdbc201be1);
        require(x == 0x000000000000006d8e3fcb597683156b27d22330c03eeac637130d50ee8c9e5a, 'test fails at 14');
        x = field3.div256(0x00000000000000000000000000000000000000000000000027b95e997e21d9f1);
        require(x == 0x000000000000000671c7846eac9e4c8dd52a7a8a65a9591ab7f20fd7958fcd14, 'test fails at 15');
        x = field3.div256(0x000000000000000000000000000000000000000000000002a34f4831603f7901);
        require(x == 0x0000000000000000610bbc7efb185edb2aa825536f64508919e10ffd9f62cfd4, 'test fails at 16');
        x = field3.div256(0x00000000000000000000000000000000000000000000002cd843cb4764370911);
        require(x == 0x000000000000000005b56570e19805946bebc5f5d96040f90185b5a581d8a2d0, 'test fails at 17');
        x = field3.div256(0x0000000000000000000000000000000000000000000002fa5c807fbda7a79a21);
        require(x == 0x00000000000000000055f6e885bda5f9abfecf68d08d30ff96ad8327da7627b1, 'test fails at 18');
        x = field3.div256(0x0000000000000000000000000000000000000000000032a024887b9822213c31);
        require(x == 0x000000000000000000050e8625fc18d27387759cc0f93f1e17ec16c61be8d528, 'test fails at 19');
        x = field3.div256(0x000000000000000000000000000000000000000000035ca26d10351a4434ff41);
        require(x == 0x000000000000000000004c26023c0175ca8f7f6392e17c2ef2592e841fc266e4, 'test fails at 20');
        x = field3.div256(0x0000000000000000000000000000000000000000003926c93e1386be8784f351);
        require(x == 0x00000000000000000000047ab4d65a7057359e14ea85bc02c2f62fe9a783e7ef, 'test fails at 21');
        x = field3.div256(0x000000000000000000000000000000000000000003cb935d1f4bf2a6ffd42861);
        require(x == 0x000000000000000000000043740c9be87d99be013af8ced2fc68d5a45525e077, 'test fails at 22');
        x = field3.div256(0x00000000000000000000000000000000000000004084c92f140b1d16fd16ae71);
        require(x == 0x000000000000000000000003f7c481a4439fa1c3d64adefd5a2448cd6e6ba3ca, 'test fails at 23');
        x = field3.div256(0x000000000000000000000000000000000000000448d15c2054bcee86ce819581);
        require(x == 0x0000000000000000000000003bc043dc7c72cd47c14fb2c39be4044851ca18b1, 'test fails at 24');
        x = field3.div256(0x0000000000000000000000000000000000000048d5e71e25a08bd6f3b69aed91);
        require(x == 0x0000000000000000000000000383c7c1acf7b1b8ed40ec65dbfe5a9ad7a279ec, 'test fails at 25');
        x = field3.div256(0x00000000000000000000000000000000000004d63459007fa949462f2049c6a1);
        require(x == 0x0000000000000000000000000034eda1fb1da10ae0c7956f674b32819436bbe0, 'test fails at 26');
        x = field3.div256(0x000000000000000000000000000000000000523979e9087a3ddda92124e630b1);
        require(x == 0x00000000000000000000000000031d09873dfa6a0d38eaac3340a89e35e51a1c, 'test fails at 27');
        x = field3.div256(0x00000000000000000000000000000000000575d11879901e1bb83b3373493bc1);
        require(x == 0x00000000000000000000000000002ee2715dffabe2a8febed5d6a081c6ef5be3, 'test fails at 28');
        x = field3.div256(0x00000000000000000000000000000000005cd2e2a01291ffd73bee6aa7dcf7d1);
        require(x == 0x000000000000000000000000000002c206ab2d283a826956850ca007a24a50b3, 'test fails at 29');
        x = field3.div256(0x00000000000000000000000000000000062a010ca13bb1fd4afad51525ac74e1);
        require(x == 0x0000000000000000000000000000002987ebf398f4620632440fcd2da0227d37, 'test fails at 30');
        x = field3.div256(0x0000000000000000000000000000000068ca11d6b4f6d1d1faa826678073c2f1);
        require(x == 0x0000000000000000000000000000000271683b8177c987e4d6d3c0c672d4da30, 'test fails at 31');
        x = field3.div256(0x00000000000000000000000000000006f56b2f420463eef1a52a8cdf87aff201);
        require(x == 0x0000000000000000000000000000000024c9e561f7fccbc22ac1297515d04911, 'test fails at 32');
        x = field3.div256(0x000000000000000000000000000000764c1e23624aa2de0bf7d35ad802af1211);
        require(x == 0x000000000000000000000000000000000229fe6f2cb48474d556a815f2396db5, 'test fails at 33');
        x = field3.div256(0x000000000000000000000000000007db0e005986f4d0becb750908582da03321);
        require(x == 0x000000000000000000000000000000000020967f02a134f7d050643d86b81583, 'test fails at 34');
        x = field3.div256(0x0000000000000000000000000000858bee05f1f641dcab82c5998ddb07a36531);
        require(x == 0x000000000000000000000000000000000001eabc2d54c6e1669b5130cbb079bc, 'test fails at 35');
        x = field3.div256(0x0000000000000000000000000008de4ace65115a5fa763af1f326b8b81d9b841);
        require(x == 0x0000000000000000000000000000000000001cdde48c842b60637d3f1b0a6183, 'test fails at 36');
        x = field3.div256(0x0000000000000000000000000096c2f7b4b627005a1d9ea1125924439f753c51);
        require(x == 0x00000000000000000000000000000000000001b2b31753119c42166d1fb55107, 'test fails at 37');
        x = field3.div256(0x0000000000000000000000000a02f27300189705fbf788b237eb687d96c90161);
        require(x == 0x000000000000000000000000000000000000001992106e4c547c5bac10ec8c4b, 'test fails at 38');
        x = field3.div256(0x000000000000000000000000aa3219a301a20765bb7013d5b6a1f05703591771);
        require(x == 0x00000000000000000000000000000000000000018110067cf5e93291a6a480b9, 'test fails at 39');
        x = field3.div256(0x00000000000000000000000b4d53b3d31bc27dc17271513120c0f5c738ea8e81);
        require(x == 0x000000000000000000000000000000000000000016a696f84ab35d53dca043ce, 'test fails at 40');
        x = field3.div256(0x0000000000000000000000c0228ef104d7ea59d8998664432cd0523ac7937691);
        require(x == 0x0000000000000000000000000000000000000000015517f07cdd5fd7c1af130c, 'test fails at 41');
        x = field3.div256(0x000000000000000000000cc24b7e0152568ff76231eca875f9d575e740cadfa1);
        require(x == 0x0000000000000000000000000000000000000000001410778edfd8761a73b5d3, 'test fails at 42');
        x = field3.div256(0x00000000000000000000d8e7035e1677bf8f6d8550b72fd5972cd45b4d78d9b1);
        require(x == 0x000000000000000000000000000000000000000000012e252685a3523dca9239, 'test fails at 43');
        x = field3.div256(0x0000000000000000000e6757393f7df3b88645da5c2a2d2f09fa1a10250674c1);
        require(x == 0x0000000000000000000000000000000000000000000011c5f335099b6d0bea7b, 'test fails at 44');
        x = field3.div256(0x000000000000000000f4dccacd375d2f40eaa3801ecd001fa99bbb12756dc0d1);
        require(x == 0x00000000000000000000000000000000000000000000010ba4e50090ac0fc27f, 'test fails at 45');
        x = field3.div256(0x00000000000000001042a977a0ad30234f94db820b9d021a43576c39cc49cde1);
        require(x == 0x00000000000000000000000000000000000000000000000fbe67d2db556a56bc, 'test fails at 46');
        x = field3.div256(0x0000000000000001146d40f1ab80325848e293a2c56d23be78ce2fd690e6abf1);
        require(x == 0x000000000000000000000000000000000000000000000000ed152a855f609bb0, 'test fails at 47');
        x = field3.div256(0x00000000000000125b41500c638357dcd70bcdcf1c3f5fa605b12d3f9f516b01);
        require(x == 0x0000000000000000000000000000000000000000000000000df22fad7e14bddd, 'test fails at 48');
        x = field3.div256(0x00000000000001380f5650d29bb8d5aa47c8aac0e0355a0660c4013994681b11);
        require(x == 0x00000000000000000000000000000000000000000000000000d202cdf85b92b2, 'test fails at 49');
        x = field3.div256(0x00000000000014b904bb5dfc5746304ec45356cee38afa6c6d0414d2dae9cc21);
        require(x == 0x000000000000000000000000000000000000000000000000000c5a8496238119, 'test fails at 50');
        x = field3.div256(0x000000000001604950713dc1cba9353b0988c3bd1c3aa1333d45620089868e31);
        require(x == 0x0000000000000000000000000000000000000000000000000000ba07cc98ad3d, 'test fails at 51');
        x = field3.div256(0x00000000001764de578519de863c88eba214ff8edfe4b467119b820921ef7141);
        require(x == 0x00000000000000000000000000000000000000000000000000000af16663557c, 'test fails at 52');
        x = field3.div256(0x00000000018db2c3cfd6b7c6ea0517a5c364f87cde2ffad82b53a29b40e68551);
        require(x == 0x000000000000000000000000000000000000000000000000000000a4c9c99b9d, 'test fails at 53');
        x = field3.div256(0x000000001a68df00cd4234358a569201f9b4804ac12fa85ae08dcc4f4f4eda61);
        require(x == 0x00000000000000000000000000000000000000000000000000000009b1845472, 'test fails at 54');
        x = field3.div256(0x00000001c0f6cf0da165778e2fbfb22194fc84f6d42a2e08e96a9144443c8071);
        require(x == 0x0000000000000000000000000000000000000000000000000000000091f8b9ac, 'test fails at 55');
        x = field3.div256(0x0000001dd063bfe7b7bcf0712bbad43ae4c4d46416cd0e978013a58888048781);
        require(x == 0x000000000000000000000000000000000000000000000000000000000896290a, 'test fails at 56');
        x = field3.div256(0x000001fad69fbe63338bf783e76817e931121aa5839df80f814dfe11084cff91);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000814db5, 'test fails at 57');
        x = field3.div256(0x000021a8409ba4966c4b6fc25de9967c4233c4fdbd7d7907962ddf218d1cf8a1);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000079b28, 'test fails at 58');
        x = field3.div256(0x00023c2c4a55edfd31026be83c82fe40657014d995550980f90bd13a5eec82b1);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000007289, 'test fails at 59');
        x = field3.div256(0x0025fef0efb4cdd041292a6c04b2e246bc716272eaa5a19089c8e4e04db4adc1);
        require(x == 0x00000000000000000000000000000000000000000000000000000000000006bc, 'test fails at 60');
        x = field3.div256(0x0285edffeb01aad453bbd12c4fe106b2838789a194ffba99265732e528ff89d1);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000000065, 'test fails at 61');
        x = field3.div256(0x2ae4cdfe9b1c58198f78e3f14df171dabc0023bae4fb642b8bca6137b8f826e1);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000000005, 'test fails at 62');
    }

    function test_mod256() public pure {
        uint256 x;

        x = field3.mod256(0x0000000000000000000000000000000000000000000000000000000000000011);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000000001, 'test fails at 1');
        x = field3.mod256(0x0000000000000000000000000000000000000000000000000000000000000121);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000000045, 'test fails at 2');
        x = field3.mod256(0x0000000000000000000000000000000000000000000000000000000000001331);
        require(x == 0x000000000000000000000000000000000000000000000000000000000000070b, 'test fails at 3');
        x = field3.mod256(0x0000000000000000000000000000000000000000000000000000000000014641);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000002d6d, 'test fails at 4');
        x = field3.mod256(0x000000000000000000000000000000000000000000000000000000000015aa51);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000068cb2, 'test fails at 5');
        x = field3.mod256(0x0000000000000000000000000000000000000000000000000000000001704f61);
        require(x == 0x0000000000000000000000000000000000000000000000000000000000888a98, 'test fails at 6');
        x = field3.mod256(0x0000000000000000000000000000000000000000000000000000000018754571);
        require(x == 0x00000000000000000000000000000000000000000000000000000000092a66de, 'test fails at 7');
        x = field3.mod256(0x000000000000000000000000000000000000000000000000000000019fc99c81);
        require(x == 0x00000000000000000000000000000000000000000000000000000000fdbf1d48, 'test fails at 8');
        x = field3.mod256(0x0000000000000000000000000000000000000000000000000000001b9c636491);
        require(x == 0x000000000000000000000000000000000000000000000000000000077ce58f4c, 'test fails at 9');
        x = field3.mod256(0x000000000000000000000000000000000000000000000000000001d56299ada1);
        require(x == 0x000000000000000000000000000000000000000000000000000000077ce58f4c, 'test fails at 10');
        x = field3.mod256(0x00000000000000000000000000000000000000000000000000001f2b8c3487b1);
        require(x == 0x00000000000000000000000000000000000000000000000000000587a4b2982f, 'test fails at 11');
        x = field3.mod256(0x000000000000000000000000000000000000000000000000000211e44f7d02c1);
        require(x == 0x0000000000000000000000000000000000000000000000000000a16161b93ea4, 'test fails at 12');
        x = field3.mod256(0x00000000000000000000000000000000000000000000000000233029474d2ed1);
        require(x == 0x000000000000000000000000000000000000000000000000000f1e9f8e2451eb, 'test fails at 13');
        x = field3.mod256(0x000000000000000000000000000000000000000000000000025632bdbc201be1);
        require(x == 0x000000000000000000000000000000000000000000000000019230659e7554e6, 'test fails at 14');
        x = field3.mod256(0x00000000000000000000000000000000000000000000000027b95e997e21d9f1);
        require(x == 0x0000000000000000000000000000000000000000000000000f9760d80735fc2c, 'test fails at 15');
        x = field3.mod256(0x000000000000000000000000000000000000000000000002a34f4831603f7901);
        require(x == 0x0000000000000000000000000000000000000000000000000f9760d80735fc2c, 'test fails at 16');
        x = field3.mod256(0x00000000000000000000000000000000000000000000002cd843cb4764370911);
        require(x == 0x00000000000000000000000000000000000000000000000a9cd4819d8833e030, 'test fails at 17');
        x = field3.mod256(0x0000000000000000000000000000000000000000000002fa5c807fbda7a79a21);
        require(x == 0x0000000000000000000000000000000000000000000002ab48cd6acc676d682f, 'test fails at 18');
        x = field3.mod256(0x0000000000000000000000000000000000000000000032a024887b9822213c31);
        require(x == 0x000000000000000000000000000000000000000000001d788951e8774c51d358, 'test fails at 19');
        x = field3.mod256(0x000000000000000000000000000000000000000000035ca26d10351a4434ff41);
        require(x == 0x00000000000000000000000000000000000000000000e7f91b73d6d7d4d6c41c, 'test fails at 20');
        x = field3.mod256(0x0000000000000000000000000000000000000000003926c93e1386be8784f351);
        require(x == 0x00000000000000000000000000000000000000000011b7253cc4e05b29dfc061, 'test fails at 21');
        x = field3.mod256(0x000000000000000000000000000000000000000003cb935d1f4bf2a6ffd42861);
        require(x == 0x000000000000000000000000000000000000000001daed6f2d61164f66075ae9, 'test fails at 22');
        x = field3.mod256(0x00000000000000000000000000000000000000004084c92f140b1d16fd16ae71);
        require(x == 0x000000000000000000000000000000000000000033316929c43c68ca63cd67d6, 'test fails at 23');
        x = field3.mod256(0x000000000000000000000000000000000000000448d15c2054bcee86ce819581);
        require(x == 0x000000000000000000000000000000000000000277dc7bd178a06e99499989cf, 'test fails at 24');
        x = field3.mod256(0x0000000000000000000000000000000000000048d5e71e25a08bd6f3b69aed91);
        require(x == 0x0000000000000000000000000000000000000017e3f348732051173b52217554, 'test fails at 25');
        x = field3.mod256(0x00000000000000000000000000000000000004d63459007fa949462f2049c6a1);
        require(x == 0x0000000000000000000000000000000000000381eac8b236a6df2aa7e1649820, 'test fails at 26');
        x = field3.mod256(0x000000000000000000000000000000000000523979e9087a3ddda92124e630b1);
        require(x == 0x00000000000000000000000000000000000016dabc2cb4354c044364628bb2a4, 'test fails at 27');
        x = field3.mod256(0x00000000000000000000000000000000000575d11879901e1bb83b3373493bc1);
        require(x == 0x000000000000000000000000000000000002fae0055e008178cf358eaea368dd, 'test fails at 28');
        x = field3.mod256(0x00000000000000000000000000000000005cd2e2a01291ffd73bee6aa7dcf7d1);
        require(x == 0x000000000000000000000000000000000002fae0055e008178cf358eaea368dd, 'test fails at 29');
        x = field3.mod256(0x00000000000000000000000000000000062a010ca13bb1fd4afad51525ac74e1);
        require(x == 0x00000000000000000000000000000000045cdd7f863cd87f8f9e628e8cff06a9, 'test fails at 30');
        x = field3.mod256(0x0000000000000000000000000000000068ca11d6b4f6d1d1faa826678073c2f1);
        require(x == 0x000000000000000000000000000000002f82e4d7eedeb66c9c7a362294b638d0, 'test fails at 31');
        x = field3.mod256(0x00000000000000000000000000000006f56b2f420463eef1a52a8cdf87aff201);
        require(x == 0x000000000000000000000000000000065359f06c895501ba4c5476331b7ea4ef, 'test fails at 32');
        x = field3.mod256(0x000000000000000000000000000000764c1e23624aa2de0bf7d35ad802af1211);
        require(x == 0x00000000000000000000000000000059d4602784be04350e0a5310ad77bdfcfb, 'test fails at 33');
        x = field3.mod256(0x000000000000000000000000000007db0e005986f4d0becb750908582da03321);
        require(x == 0x000000000000000000000000000001466c9c6e495349f125f9f9c65d7d1c211d, 'test fails at 34');
        x = field3.mod256(0x0000000000000000000000000000858bee05f1f641dcab82c5998ddb07a36531);
        require(x == 0x00000000000000000000000000003843ce9ee0fa04ff28b62d3900c6bc7d8704, 'test fails at 35');
        x = field3.mod256(0x0000000000000000000000000008de4ace65115a5fa763af1f326b8b81d9b841);
        require(x == 0x0000000000000000000000000004ea2f2cd462a255c1304f1f9efd7a013c15bd, 'test fails at 36');
        x = field3.mod256(0x0000000000000000000000000096c2f7b4b627005a1d9ea1125924439f753c51);
        require(x == 0x000000000000000000000000006f55b0d99132ded199dc8495fc08041770b8c9, 'test fails at 37');
        x = field3.mod256(0x0000000000000000000000000a02f27300189705fbf788b237eb687d96c90161);
        require(x == 0x0000000000000000000000000780794d521b06e30afd4c117229bb2f90ef8c95, 'test fails at 38');
        x = field3.mod256(0x000000000000000000000000aa3219a301a20765bb7013d5b6a1f05703591771);
        require(x == 0x0000000000000000000000001b865e33524c34ef02ec5d75e2008c2abe818f57, 'test fails at 39');
        x = field3.mod256(0x00000000000000000000000b4d53b3d31bc27dc17271513120c0f5c738ea8e81);
        require(x == 0x0000000000000000000000076bad78346442864e10bd37a4baf5dfe7e3559132, 'test fails at 40');
        x = field3.mod256(0x0000000000000000000000c0228ef104d7ea59d8998664432cd0523ac7937691);
        require(x == 0x00000000000000000000001e0654dfda9bc781d0f59fda06fc77cb76552aae34, 'test fails at 41');
        x = field3.mod256(0x000000000000000000000cc24b7e0152568ff76231eca875f9d575e740cadfa1);
        require(x == 0x0000000000000000000006df3d5b59063304aa6e5b5960638fcaaf875959d94d, 'test fails at 42');
        x = field3.mod256(0x00000000000000000000d8e7035e1677bf8f6d8550b72fd5972cd45b4d78d9b1);
        require(x == 0x0000000000000000000086763047663d94a454444e97f4ff52214a8fe1469597, 'test fails at 43');
        x = field3.mod256(0x0000000000000000000e6757393f7df3b88645da5c2a2d2f09fa1a10250674c1);
        require(x == 0x0000000000000000000c63185f6ca0ca0e7c518eb89c92ad9694e78e1de27d45, 'test fails at 44');
        x = field3.mod256(0x000000000000000000f4dccacd375d2f40eaa3801ecd001fa99bbb12756dc0d1);
        require(x == 0x000000000000000000b93b2f0e668836b4c797cb0a96b0e20e4e204fda2ff651, 'test fails at 45');
        x = field3.mod256(0x00000000000000001042a977a0ad30234f94db820b9d021a43576c39cc49cde1);
        require(x == 0x00000000000000000397d18f760c9fc47787824b66fdb1410b2151873a7938c4, 'test fails at 46');
        x = field3.mod256(0x0000000000000001146d40f1ab80325848e293a2c56d23be78ce2fd690e6abf1);
        require(x == 0x0000000000000000c6b7c32afe2ae16c3281cc63f259ca7c333a643ccdeedf50, 'test fails at 47');
        x = field3.mod256(0x00000000000000125b41500c638357dcd70bcdcf1c3f5fa605b12d3f9f516b01);
        require(x == 0x000000000000000403ff860000ab78750d29874c42a135b79da4f3c080a2e323, 'test fails at 48');
        x = field3.mod256(0x00000000000001380f5650d29bb8d5aa47c8aac0e0355a0660c4013994681b11);
        require(x == 0x00000000000000cdefcdf68847503ef24aab5f32795a51d9dc41e57c59227c2e, 'test fails at 49');
        x = field3.mod256(0x00000000000014b904bb5dfc5746304ec45356cee38afa6c6d0414d2dae9cc21);
        require(x == 0x0000000000000bc679d6cdefc0cfc1eed0b95ffa5b3a7c134325f08290cb6fc7, 'test fails at 50');
        x = field3.mod256(0x000000000001604950713dc1cba9353b0988c3bd1c3aa1333d45620089868e31);
        require(x == 0x0000000000010472b29f35c3d81a05a004a171ad05be39285f56ea64d3c10153, 'test fails at 51');
        x = field3.mod256(0x00000000001764de578519de863c88eba214ff8edfe4b467119b820921ef7141);
        require(x == 0x00000000000264bc03107385a3c33adb0e2a356a21f8da5b9c9c4c655d478f84, 'test fails at 52');
        x = field3.mod256(0x00000000018db2c3cfd6b7c6ea0517a5c364f87cde2ffad82b53a29b40e68551);
        require(x == 0x0000000001614dc323dcf78f814f40a98d652ec9405f6c65a4b8eaee5a4f3253, 'test fails at 53');
        x = field3.mod256(0x000000001a68df00cd4234358a569201f9b4804ac12fa85ae08dcc4f4f4eda61);
        require(x == 0x000000001277fc2d1216dd1b8f8744c8f2bbdc26cc6f33af8150e79a2436ecce, 'test fails at 54');
        x = field3.mod256(0x00000001c0f6cf0da165778e2fbfb22194fc84f6d42a2e08e96a9144443c8071);
        require(x == 0x00000000b0ed3631e1a4165ccd8eb0d4ccf6dde7538d25d0c4a3b17600100b14, 'test fails at 55');
        x = field3.mod256(0x0000001dd063bfe7b7bcf0712bbad43ae4c4d46416cd0e978013a58888048781);
        require(x == 0x0000000432dad44d246f05792d0e1517f6efe7d4fbe181e29778d3fe88890bf6, 'test fails at 56');
        x = field3.mod256(0x000001fad69fbe63338bf783e76817e931121aa5839df80f814dfe11084cff91);
        require(x == 0x0000009944cd93d3bb1fb7af07b43a3e6ec80dc96de2cad817db0fa9309fb17b, 'test fails at 57');
        x = field3.mod256(0x000021a8409ba4966c4b6fc25de9967c4233c4fdbd7d7907962ddf218d1cf8a1);
        require(x == 0x00001a562aea3edd593b4961c7fd7115ecb368311ce863a1a8d0f6869c88abd8, 'test fails at 58');
        x = field3.mod256(0x00023c2c4a55edfd31026be83c82fe40657014d995550980f90bd13a5eec82b1);
        require(x == 0x00021331f408e3adb1a6d5c548ad425dcdbbf30f37427b137581097de13b3d47, 'test fails at 59');
        x = field3.mod256(0x0025fef0efb4cdd041292a6c04b2e246bc716272eaa5a19089c8e4e04db4adc1);
        require(x == 0x001f2171ba65f9892ec650905b542ba2f46d021bcc93f6a01b1aa974b33de044, 'test fails at 60');
        x = field3.mod256(0x0285edffeb01aad453bbd12c4fe106b2838789a194ffba99265732e528ff89d1);
        require(x == 0x01291a0848579a3af6e679847c385b921b86b340371b6193df98eb96d32ea08b, 'test fails at 61');
        x = field3.mod256(0x2ae4cdfe9b1c58198f78e3f14df171dabc0023bae4fb642b8bca6137b8f826e1);
        require(x == 0x2987fa06f872478032a38c497a48c6ba53ff4d5987170b26450c19e963273d9b, 'test fails at 62');
    }

    function test_div512() public pure {
        uint256 x = 0x6cd4f254f107fac863848ce8b56db5a13f66ce14a2632dbb0b3aa41dd9319ce1;
        uint256 y = 0x0a35cf0f4a940d8fc49e4b88fd39ff84f54ef7f887c63173fde3d95c939bb9e9;
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0xf0602e9c05a41bf8ad732463b9cab2d82291ba58b16c61f40fabf3b0d31e3b42) &&
             (y == 0x000000008f94afcbcd31d4fa0d199883d859299e689c60d96e844ea74db8bd33), 'fails at 1');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x8d2ded57144ef0d63bf2c87604b2d7a58ca29bfe91877a731403b24a46817e5d) &&
             (y == 0x0000000000000007e31ae864fff17a56d7bc80a03c281e959e6c15e964bb4c50), 'fails at 2');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x6a6c3d6f49ede3ca81fc2afdfbe5906a7f32441142d9f43e96bdc6064ac10e69) &&
             (y == 0x00000000000000000000006ee9aa67bb115c3a1b4d5abeb55f77831daf47ce9e), 'fails at 3');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x1b4d4baea0a32339550bfeb716d011a7e834d4ecd273ef0fb8f26ab5cbd93bc1) &&
             (y == 0x00000000000000000000000000000617b5ec86802e7b68617ae51113231bb4f4), 'fails at 4');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0xc60031d6d2f09fe9b3f36e98b58dda00b803b54f4d867764627548a25db5e600) &&
             (y == 0x00000000000000000000000000000000000055ad6e50fbacb757c716e69f5c5f), 'fails at 5');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x98bf9bc962bf690cbdb2c5b2befed3b2d090d11a088317087a8d32bbba417ca6) &&
             (y == 0x00000000000000000000000000000000000000000004b4d6df7ad44f3dd66c53), 'fails at 6');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x71170c92554a699bd19c36efa151cf167916e1419a36f72bb686a8dacada34b3) &&
             (y == 0x00000000000000000000000000000000000000000000000000422f0da8e1d98e), 'fails at 7');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x35cf0bbcdfb4048f3ce093e0b919ad7ff1e8b2eb8f0bb07cc8884ffb5f4c4e5d) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000003a2b5b0), 'fails at 8');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x33201affa7407a8d177791cd8f8e76db6f340a206b12aa2419b3080d9e6ea932) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 9');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x00000002cef37bc2ff105759920c58d40c2c5a783344cf65957f5b7b20202ad6) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 10');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x00000000000000277e3ffdb5d3f5b8e51f7644c1769d00a6c12e2a0df0575be9) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 11');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x00000000000000000000022b5f63f23d9f810321d637c18030d9c5ea9bd441ae) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 12');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x00000000000000000000000000001e81ed6e81d2f5318b8cf8953348efeaa31f) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 13');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x000000000000000000000000000000000001ad031af04040fd02dc96ce4a7433) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 14');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x0000000000000000000000000000000000000000001790fbab9ad7ed189c6968) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 15');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x000000000000000000000000000000000000000000000000014b66d328326678) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 16');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x00000000000000000000000000000000000000000000000000000000123455fa) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 17');
        (x,y) = field3.div512(x,y,0x12345678);
        require(
             (x == 0x0000000000000000000000000000000000000000000000000000000000000000) &&
             (y == 0x0000000000000000000000000000000000000000000000000000000000000000), 'fails at 18');
    }

}
